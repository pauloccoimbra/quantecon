<!-- Botão ☰ no corpo da página + toggle da sidebar -->
<button id="sidebarToggle"
        title="Mostrar/ocultar navegação"
        aria-label="Mostrar/ocultar navegação"
        onclick="(function(){
          var on = document.documentElement.classList.toggle('sidebar-collapsed');
          try{ localStorage.setItem('qe_sidebar_collapsed', on ? '1':'0'); }catch(e){}
        })()"
        style="
          position:fixed; top:12px; left:12px; z-index:10000;
          width:36px; height:36px; display:grid; place-items:center;
          border-radius:8px; border:1px solid var(--color-border, #e5e7eb);
          background: var(--body-background, #fff); color: var(--text-color, #111);
          box-shadow:0 2px 8px rgba(0,0,0,.08); cursor:pointer; user-select:none;
          font-size:18px; line-height:1;">
  ☰
</button>

<script>
  // aplica o estado salvo (recolhida/aberta) no primeiro paint
  (function(){
    try {
      if (localStorage.getItem('qe_sidebar_collapsed') === '1') {
        document.documentElement.classList.add('sidebar-collapsed');
      }
      // Força tema claro; remova se não quiser forçar
      localStorage.setItem('theme','light');
      document.documentElement.setAttribute('data-theme','light');
    } catch(e){}
  })();
</script>

<style>
  /* Fallback seguro: garante que o toggle funcione sem depender de SCSS */
  :root { --nav-width: 160px; } /* <- ajuste fino da largura aqui */

  /* Sidebar visível por padrão e conteúdo deslocado pela largura */
  .side-bar { width: var(--nav-width) !important; transition: transform .2s ease, opacity .2s ease; }
  .side-bar .site-nav { width: var(--nav-width) !important; }
  .main { margin-left: var(--nav-width) !important; transition: margin-left .2s ease; }

  /* Estado recolhido (classe no <html>) */
  html.sidebar-collapsed .side-bar { transform: translateX(-100%); opacity: 0; }
  html.sidebar-collapsed .main { margin-left: 0 !important; }

  /* Mobile: recolhida por padrão */
  @media (max-width: 991px){
    .side-bar { transform: translateX(-100%); opacity: 0; }
    .main { margin-left: 0 !important; }
  }
</style>


